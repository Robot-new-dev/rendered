Я сделал WiFi панель по проекту vvip68 (https://github.com/vvip-68/LedPanelWiFi), которую я повесил на окна, выходящие во двор. Проект потрясающий, всем соседям очень нравится, панель показывает время, погоду, выводит мотивирующие сообщения. Но захотелось добавить интерактива.
Мне потребовалось создать бота, через которого соседи, имеющие доступ к боту через QR-код, размещенный на бумажке в подъезде, могли бы оставлять сообщения на моей WiFi панели.
Бот создается через @BotFather, думаю, у вас с созданием бота не будет проблем. Вам нужен будет токен, который @BotFather вам сообщит при создании. Также для работы бота вам потребуется ваш ID, чтобы контролировать бота. ID можно получить через @userinfobot.
Для контроля каждое сообщение отправляется владельцу, после чего он должен подтвердить или отвергнуть его.
Данный скрипт создан для работы совместно со скриптом отображения текста на WiFi панели из проекта vvip68 (https://github.com/vvip-68/LedPanelWiFi).
Подтвержденные сообщения затем пересылаются в светодиодную матрицу посредством другого скрипта file_to_browser_autofill.py
Для работы отправки текста на WiFi панель потребуется доустановить следующие программы:
Python - c официального сайта python.org (версию 3.8 или новее). Во время установки обязательно отметьте галочку «Add Python to PATH».
библиотеку pyTelegramBotAPI - "pip install pyTelegramBotAPI"
библиотеку Selenium - "pip install watchdog selenium"
драйвер ChromeDriver - скачайте версию, совместимую с вашим браузером Chrome. В коде замените 'путь/к/вашему/chromedriver' на фактический путь к скачанному файлу (например, C:/drivers/chromedriver.exe).
также в коде надо заменить адрес 192.168.0.102 на адрес вашей WiFi панели (см. настройки).

Скрипт открывает браузер в фоне, переключается на вкладку Тексты, вводит сообщение в окно Текст бегущей строки и нажимает кнопку Просмотр. Сообщение выводится белым цветом на черном фоне для наилучшего контраста, чтобы фоновый эффект не мешал просмотру. Можно настроить любой фон/цвет вручную, в разделе скрипта Форматирование текста в команде formatted. Примеры форматирования есть в самом веб-интерфейсе панели.
Таким образом работают оба скрипта - один выдергивает подтвержденные сообщения из телеграм-бота, второй - отправляет эти сообщения на WiFi панель.

С какими ошибками я столкнулся:
Путь к ChromeDriver не сразу прописался в переменных path, пришлось под администратором это делать отдельно.
Панель тормозила при отправке сообщения, пришлось радикально переписать код.
Панель может подвисать и ее интерфейс быть недоступным, тогда сообщения могут потеряться.
